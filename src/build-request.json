{
  "kind": "build_request",
  "title": "Add pre-chat quick options (Study / Knowledge / Research / Other) to guide the first message",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-9",
      "text": "On the Chat page, when the chat history is empty (before the user starts chatting), display a set of selectable quick options/buttons labeled \"Study\", \"Knowledge\", \"Research\", and \"Other\" above the message input area (in the existing empty-state UI).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "GIVE OPTIONS BEFORE CHAT LIKE STUDY KNOWLEDGE RESEARCH AND OTHER"
        ]
      },
      "acceptanceCriteria": [
        "When there are zero chat messages and the chat is not loading, the empty-state area shows four visible options: Study, Knowledge, Research, Other.",
        "When there is at least one chat message, these options are not shown (normal chat message list remains unchanged).",
        "All option labels are in English and match exactly: \"Study\", \"Knowledge\", \"Research\", \"Other\"."
      ]
    },
    {
      "id": "REQ-10",
      "text": "Make each pre-chat option actionable: clicking an option should prefill the chat Textarea with a short English prompt appropriate to the selected option (without sending automatically), and place focus in the Textarea so the user can edit and send.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "GIVE OPTIONS BEFORE CHAT LIKE STUDY KNOWLEDGE RESEARCH AND OTHER"
        ]
      },
      "acceptanceCriteria": [
        "Clicking \"Study\" prefills the input with a study-oriented prompt (English) and focuses the input.",
        "Clicking \"Knowledge\" prefills the input with a knowledge-base-oriented prompt (English) and focuses the input.",
        "Clicking \"Research\" prefills the input with a research-oriented prompt (English) and focuses the input.",
        "Clicking \"Other\" prefills the input with a general/open-ended prompt (English) and focuses the input.",
        "No chat message is sent until the user presses Enter (without Shift) or clicks the Send button.",
        "The Send button enable/disable logic continues to work based on whether the input is non-empty and whether a message is pending."
      ]
    },
    {
      "id": "REQ-11",
      "text": "Style the pre-chat options to match the existing app theme: use existing UI components (e.g., shadcn Button/Card) and ensure the options look good in both light and dark mode, preserving the current empty-state layout and spacing.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "GIVE OPTIONS BEFORE CHAT LIKE STUDY KNOWLEDGE RESEARCH AND OTHER"
        ]
      },
      "acceptanceCriteria": [
        "Quick options use existing design system components/styles already present in the app (no new UI library).",
        "Quick options are readable and visually distinct in both light and dark themes.",
        "The Chat page still renders correctly at mobile and desktop sizes, with no horizontal overflow introduced by the options."
      ]
    }
  ],
  "constraints": [
    "Frontend files under the immutable paths must not be edited (e.g., frontend/src/hooks/useInternetIdentity.ts(x), frontend/src/hooks/useActor.ts, frontend/src/main.tsx, and frontend/src/components/ui/*).",
    "Keep the backend as a single-actor Motoko canister; do not introduce additional backend services.",
    "Use English for any user-facing text added by this change."
  ],
  "nonGoals": [
    "Do not implement new backend persistence or schema changes for chat \"modes\".",
    "Do not change the knowledge-base search/answering logic in the chat backend flow.",
    "Do not add real-time features (WebSockets) or external AI/LLM API integrations."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}